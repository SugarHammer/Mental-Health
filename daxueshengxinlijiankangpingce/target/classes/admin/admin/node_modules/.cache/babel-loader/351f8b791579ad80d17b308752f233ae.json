{"remainingRequest":"E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\thread-loader\\dist\\cjs.js!E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js!E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\zhixunshiChat\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\zhixunshiChat\\list.vue","mtime":1679302512070},{"path":"E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\GitHub\\weixin\\MentalHealth\\daxueshengxinlijiankangpingce\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFkZE9yVXBkYXRlIGZyb20gIi4vYWRkLW9yLXVwZGF0ZSI7CmltcG9ydCB7IHNldEludGVydmFsLCBjbGVhckludGVydmFsIH0gZnJvbSAndGltZXJzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWFyY2hGb3JtOiB7fSwKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBwYWdlSW5kZXg6IDEsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgdG90YWxQYWdlOiAwLAogICAgICBkYXRhTGlzdExvYWRpbmc6IGZhbHNlLAogICAgICBzaG93RmxhZzogZmFsc2UsCiAgICAgIGRhdGFMaXN0U2VsZWN0aW9uczogW10sCiAgICAgIGludGVyOiBudWxsCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHRoYXQuZ2V0RGF0YUxpc3QoKTsKICAgIHZhciBpbnRlciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgdGhhdC5nZXREYXRhTGlzdCgpOwogICAgfSwgNTAwMCk7CiAgICB0aGlzLmludGVyID0gaW50ZXI7CiAgfSwKICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCgpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcik7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBZGRPclVwZGF0ZTogQWRkT3JVcGRhdGUKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGFMaXN0OiBmdW5jdGlvbiBnZXREYXRhTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZGF0YUxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiAnemhpeHVuc2hpQ2hhdC9wYWdlJywKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZTogdGhpcy5wYWdlSW5kZXgsCiAgICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwKICAgICAgICAgIHpodWFuZ3RhaVR5cGVzOiAxLAogICAgICAgICAgemhpeHVuc2hpQ2hhdFR5cGVzOiAxCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXMuZGF0YUxpc3QgPSBkYXRhLmRhdGEubGlzdDsKICAgICAgICAgIF90aGlzLnRvdGFsUGFnZSA9IGRhdGEuZGF0YS50b3RhbDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMuZGF0YUxpc3QgPSBbXTsKICAgICAgICAgIF90aGlzLnRvdGFsUGFnZSA9IDA7CiAgICAgICAgfQoKICAgICAgICBfdGhpcy5kYXRhTGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5q+P6aG15pWwCiAgICBzaXplQ2hhbmdlSGFuZGxlOiBmdW5jdGlvbiBzaXplQ2hhbmdlSGFuZGxlKHZhbCkgewogICAgICB0aGlzLnBhZ2VTaXplID0gdmFsOwogICAgICB0aGlzLnBhZ2VJbmRleCA9IDE7CiAgICAgIHRoaXMuZ2V0RGF0YUxpc3QoKTsKICAgIH0sCiAgICAvLyDlvZPliY3pobUKICAgIGN1cnJlbnRDaGFuZ2VIYW5kbGU6IGZ1bmN0aW9uIGN1cnJlbnRDaGFuZ2VIYW5kbGUodmFsKSB7CiAgICAgIHRoaXMucGFnZUluZGV4ID0gdmFsOwogICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICB9LAogICAgLy8g5Zue5aSNCiAgICBhZGRPclVwZGF0ZUhhbmRsZXI6IGZ1bmN0aW9uIGFkZE9yVXBkYXRlSGFuZGxlcihyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnNob3dGbGFnID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmcy5hZGRPclVwZGF0ZS5pbml0KHJvdyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,WAAA,MAAA,iBAAA;AACA,SACA,WADA,EAEA,aAFA,QAGA,QAHA;AAIA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,CAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,SAAA,EAAA,CALA;AAMA,MAAA,eAAA,EAAA,KANA;AAOA,MAAA,QAAA,EAAA,KAPA;AAQA,MAAA,kBAAA,EAAA,EARA;AASA,MAAA,KAAA,EAAA;AATA,KAAA;AAWA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,IAAA,IAAA,CAAA,WAAA;AACA,QAAA,KAAA,GAAA,WAAA,CAAA,YAAA;AACA,MAAA,IAAA,CAAA,WAAA;AACA,KAFA,EAEA,IAFA,CAAA;AAGA,SAAA,KAAA,GAAA,KAAA;AACA,GArBA;AAsBA,EAAA,SAtBA,uBAsBA;AACA,IAAA,aAAA,CAAA,KAAA,KAAA,CAAA;AACA,GAxBA;AAyBA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAzBA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA;AACA,QAAA,GAAA,EAAA,oBADA;AAEA,QAAA,MAAA,EAAA,KAFA;AAGA,QAAA,MAAA,EAAA;AACA,UAAA,IAAA,EAAA,KAAA,SADA;AAEA,UAAA,KAAA,EAAA,KAAA,QAFA;AAGA,UAAA,cAAA,EAAA,CAHA;AAIA,UAAA,kBAAA,EAAA;AAJA;AAHA,OAAA,EASA,IATA,CASA,gBAEA;AAAA,YADA,IACA,QADA,IACA;;AACA,YAAA,IAAA,IAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,CAAA;AACA;;AACA,QAAA,KAAA,CAAA,eAAA,GAAA,KAAA;AACA,OApBA;AAqBA,KAxBA;AAyBA;AACA,IAAA,gBA1BA,4BA0BA,GA1BA,EA0BA;AACA,WAAA,QAAA,GAAA,GAAA;AACA,WAAA,SAAA,GAAA,CAAA;AACA,WAAA,WAAA;AACA,KA9BA;AA+BA;AACA,IAAA,mBAhCA,+BAgCA,GAhCA,EAgCA;AACA,WAAA,SAAA,GAAA,GAAA;AACA,WAAA,WAAA;AACA,KAnCA;AAoCA;AACA,IAAA,kBArCA,8BAqCA,GArCA,EAqCA;AAAA;;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,WAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAFA;AAGA;AA1CA;AA5BA,CAAA","sourcesContent":["<template>\r\n    <div class=\"main-content\">\r\n        <!-- 列表页 -->\r\n        <div v-if=\"!showFlag\">\r\n            <div class=\"table-content\">\r\n                <el-table :data=\"dataList\" empty-text=\"暂无需要回复的消息\" border v-loading=\"dataListLoading\"\r\n                          style=\"width: 100%;\">\r\n                    <el-table-column prop=\"zhixunshiChatIssueText\" header-align=\"center\" align=\"center\" sortable label=\"新消息\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"issueTime\" header-align=\"center\" align=\"center\" sortable label=\"发送时间\">\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"allnode\" header-align=\"center\" align=\"center\" sortable label=\"状态\"\r\n                                     width=\"150\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-tag v-if=\"\" :type=\"scope.row.zhuangtaiTypes==1?'success':'info'\">\r\n                                {{scope.row.zhuangtaiValue}}</el-tag>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column fixed=\"right\" header-align=\"center\" align=\"center\" width=\"150\" label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\r\n                                       @click=\"addOrUpdateHandler(scope.row)\">回复</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n                <el-pagination @size-change=\"sizeChangeHandle\" @current-change=\"currentChangeHandle\"\r\n                               :current-page=\"pageIndex\" :page-sizes=\"[10, 20, 50, 100]\" :page-size=\"pageSize\" :total=\"totalPage\"\r\n                               layout=\"total, sizes, prev, pager, next, jumper\" class=\"pagination-content\"></el-pagination>\r\n            </div>\r\n        </div>\r\n        <!-- 添加/修改页面  将父组件的search方法传递给子组件-->\r\n        <add-or-update v-else :parent=\"this\" ref=\"addOrUpdate\"></add-or-update>\r\n    </div>\r\n</template>\r\n<script>\r\n    import AddOrUpdate from \"./add-or-update\";\r\n    import {\r\n        setInterval,\r\n        clearInterval\r\n    } from 'timers';\r\n    export default {\r\n        data() {\r\n            return {\r\n                searchForm: {},\r\n                dataList: [],\r\n                pageIndex: 1,\r\n                pageSize: 10,\r\n                totalPage: 0,\r\n                dataListLoading: false,\r\n                showFlag: false,\r\n                dataListSelections: [],\r\n                inter: null\r\n            };\r\n        },\r\n        created() {\r\n            var that = this;\r\n            that.getDataList();\r\n            var inter = setInterval(function() {\r\n                that.getDataList();\r\n            }, 5000);\r\n            this.inter = inter;\r\n        },\r\n        destroyed() {\r\n            clearInterval(this.inter);\r\n        },\r\n        components: {\r\n            AddOrUpdate\r\n        },\r\n        methods: {\r\n            getDataList() {\r\n                this.dataListLoading = true;\r\n                this.$http({\r\n                    url: 'zhixunshiChat/page',\r\n                    method: \"get\",\r\n                    params: {\r\n                        page: this.pageIndex,\r\n                        limit: this.pageSize,\r\n                        zhuangtaiTypes: 1,\r\n                        zhixunshiChatTypes: 1,\r\n                    }\r\n                }).then(({\r\n                             data\r\n                         }) => {\r\n                    if (data && data.code === 0) {\r\n                        this.dataList = data.data.list;\r\n                        this.totalPage = data.data.total;\r\n                    } else {\r\n                        this.dataList = [];\r\n                        this.totalPage = 0;\r\n                    }\r\n                    this.dataListLoading = false;\r\n                });\r\n            },\r\n            // 每页数\r\n            sizeChangeHandle(val) {\r\n                this.pageSize = val;\r\n                this.pageIndex = 1;\r\n                this.getDataList();\r\n            },\r\n            // 当前页\r\n            currentChangeHandle(val) {\r\n                this.pageIndex = val;\r\n                this.getDataList();\r\n            },\r\n            // 回复\r\n            addOrUpdateHandler(row) {\r\n                this.showFlag = true;\r\n                this.$nextTick(() => {\r\n                    this.$refs.addOrUpdate.init(row);\r\n                });\r\n            }\r\n        }\r\n    };\r\n</script><style lang=\"scss\" scoped>\r\n    .slt {\r\n        margin: 0 !important;\r\n        display: flex;\r\n    }\r\n\r\n    .ad {\r\n        margin: 0 !important;\r\n        display: flex;\r\n    }\r\n\r\n    .pages {\r\n    & /deep/ el-pagination__sizes {\r\n    & /deep/ el-input__inner {\r\n          height: 22px;\r\n          line-height: 22px;\r\n      }\r\n    }\r\n    }\r\n\r\n\r\n    .el-button+.el-button {\r\n        margin: 0;\r\n    }\r\n\r\n    .tables {\r\n    & /deep/ .el-button--success {\r\n          height: 36px;\r\n          color: rgba(40, 167, 69, 1);\r\n          font-size: 10px;\r\n          border-width: 0px;\r\n          border-style: solid;\r\n          border-color: #DCDFE6;\r\n          border-radius: 0px;\r\n          background-color: rgba(255, 255, 255, 1);\r\n      }\r\n\r\n    & /deep/ .el-button--primary {\r\n          height: 36px;\r\n          color: rgba(255, 193, 7, 1);\r\n          font-size: 10px;\r\n          border-width: 0px;\r\n          border-style: solid;\r\n          border-color: #DCDFE6;\r\n          border-radius: 0px;\r\n          background-color: #fff;\r\n      }\r\n\r\n    & /deep/ .el-button--danger {\r\n          height: 36px;\r\n          color: rgba(220, 53, 69, 1);\r\n          font-size: 10px;\r\n          border-width: 0px;\r\n          border-style: solid;\r\n          border-color: #DCDFE6;\r\n          border-radius: 0px;\r\n          background-color: #fff;\r\n      }\r\n\r\n    & /deep/ .el-button {\r\n          margin: 4px;\r\n      }\r\n    }\r\n</style>\r\n\r\n\r\n"],"sourceRoot":"src/views/modules/zhixunshiChat"}]}